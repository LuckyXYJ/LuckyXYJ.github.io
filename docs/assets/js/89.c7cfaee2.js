(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{390:function(t,a,s){"use strict";s.r(a);var e=s(6),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"网络层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层"}},[t._v("#")]),t._v(" 网络层")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://xingyajie.oss-cn-hangzhou.aliyuncs.com/uPic/%E7%BD%91%E7%BB%9C%E5%B1%82.png",alt:"网络层"}})]),t._v(" "),a("p",[t._v("网络层数据包（IP数据包，Packet）由首部、数据2部分组成\n数据：很多时候是由传输层传递下来的数据段（Segment）")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-版本、首部长度、区分服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-版本、首部长度、区分服务"}},[t._v("#")]),t._v(" 网络层首部 - 版本、首部长度、区分服务")]),t._v(" "),a("p",[t._v("版本（Version） 占4位\n0b0100：IPv4\n0b0110：IPv6")]),t._v(" "),a("p",[t._v("首部长度（Header Length） 占4位\n二进制乘以4才是最终长度 0b0101：20（最小值） 0b1111：60（最大值）")]),t._v(" "),a("p",[t._v("区分服务（Differentiated Services Field） 占8位\n可以用于提高网络的服务质量（QoS，Quality of Service）")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-总长度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-总长度"}},[t._v("#")]),t._v(" 网络层首部 - 总长度")]),t._v(" "),a("p",[t._v("​    总长度（Total Length） 占16位\n​        首部 + 数据的长度之和，最大值是65535\n​    由于帧的数据不能超过1500字节，所以过大的IP数据包，需要分成片（fragments）传输给数据链路层\n​        每一片都有自己的网络层首部（IP首部）")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://xingyajie.oss-cn-hangzhou.aliyuncs.com/uPic/%E7%BD%91%E7%BB%9C%E5%B1%82-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82.png",alt:"网络层-数据链路层"}})]),t._v(" "),a("h3",{attrs:{id:"网络层首部-标识、标志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-标识、标志"}},[t._v("#")]),t._v(" 网络层首部 - 标识、标志")]),t._v(" "),a("p",[t._v("​    标识（Identification） 占16位\n​    数据包的ID，当数据包过大进行分片时，同一个数据包的所有片的标识都是一样的\n​    有一个计数器专门管理数据包的ID，每发出一个数据包，ID就加1")]),t._v(" "),a("p",[t._v("标志（Flags） 占3位\n第1位（Reserved Bit）：保留\n第2位（Don't Fragment）：1代表不允许分片，0代表允许分片\n第3位（More Fragments）：1代表不是最后一片，0代表是最后一片")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-片偏移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-片偏移"}},[t._v("#")]),t._v(" 网络层首部 - 片偏移")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://xingyajie.oss-cn-hangzhou.aliyuncs.com/uPic/%E7%BD%91%E7%BB%9C%E5%B1%82%E9%A6%96%E9%83%A8-%E7%89%87%E5%81%8F%E7%A7%BB.png",alt:"网络层首部-片偏移"}})]),t._v(" "),a("p",[t._v("​    片偏移（Fragment Offset） 占13位\n​    片偏移乘以8：字节偏移 每一片的长度一定是8的整数倍")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-生存时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-生存时间"}},[t._v("#")]),t._v(" 网络层首部 - 生存时间")]),t._v(" "),a("p",[t._v("​    生存时间（Time To Live，TTL） 占8位\n​    每个路由器在转发之前会将TTL减1，一旦发现TTL减为0，路由器会返回错误报告\n​    观察使用ping命令后的TTL，能够推测出对方的操作系统、中间经过了多少个路由器")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-协议"}},[t._v("#")]),t._v(" 网络层首部 - 协议")]),t._v(" "),a("p",[t._v("​    协议（Protocol） 占8位 表明所封装的数据是使用了什么协议\n​")]),t._v(" "),a("h3",{attrs:{id:"网络层首部-首部校验和-16位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络层首部-首部校验和-16位"}},[t._v("#")]),t._v(" 网络层首部 - 首部校验和  16位")]),t._v(" "),a("p",[t._v("​    首部校验和（Header Checksum） 用于检查首部是否有错误")])])}),[],!1,null,null,null);a.default=r.exports}}]);