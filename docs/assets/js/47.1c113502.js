(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{348:function(_,i,v){"use strict";v.r(i);var t=v(6),a=Object(t.a)({},(function(){var _=this,i=_._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[i("h2",{attrs:{id:"耗电来源"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#耗电来源"}},[_._v("#")]),_._v(" 耗电来源")]),_._v(" "),i("p",[_._v("CPU处理，Processing")]),_._v(" "),i("p",[_._v("网络，Networking")]),_._v(" "),i("p",[_._v("定位，Location")]),_._v(" "),i("p",[_._v("图像，Graphics")]),_._v(" "),i("h2",{attrs:{id:"耗电优化"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#耗电优化"}},[_._v("#")]),_._v(" 耗电优化")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("尽可能降低CPU、GPU功耗")])]),_._v(" "),i("li",[i("p",[_._v("少用定时器")])]),_._v(" "),i("li",[i("p",[_._v("优化I/O操作")]),_._v(" "),i("ul",[i("li",[_._v("尽量不要频繁写入小数据，最好批量一次性写入")]),_._v(" "),i("li",[_._v("读写大量重要数据时，考虑用dispatch_io，其提供了基于GCD的异步操作文件I/O的API。用dispatch_io")]),_._v(" "),i("li",[_._v("统会优化磁盘访问")]),_._v(" "),i("li",[_._v("数据量比较大的，建议使用数据库（比如SQLite、CoreData）")])])]),_._v(" "),i("li",[i("p",[_._v("网络优化")]),_._v(" "),i("ul",[i("li",[_._v("减少、压缩网络数据")]),_._v(" "),i("li",[_._v("如果多次请求的结果是相同的，尽量使用缓存")]),_._v(" "),i("li",[_._v("使用断点续传，否则网络不稳定时可能多次传输相同的内容")]),_._v(" "),i("li",[_._v("网络不可用时，不要尝试执行网络请求")]),_._v(" "),i("li",[_._v("让用户可以取消长时间运行或者速度很慢的网络操作，设置合适的超时时间")]),_._v(" "),i("li",[_._v("批量传输，比如，下载视频流时，不要传输很小的数据包，直接下载整个文件或者一大块一大块地下载。如果下载广告，一次性多下载一些，然后再慢慢展示。如果下载电子邮件，一次下载多封，不要一封一封地下载")])])]),_._v(" "),i("li",[i("p",[_._v("定位优化")]),_._v(" "),i("ul",[i("li",[_._v("如果只是需要快速确定用户位置，最好用CLLocationManager的requestLocation方法。定位完成后，会自动让定位硬件断电")]),_._v(" "),i("li",[_._v("如果不是导航应用，尽量不要实时更新位置，定位完毕就关掉定位服务")]),_._v(" "),i("li",[_._v("尽量降低定位精度，比如尽量不要使用精度最高的kCLLocationAccuracyBest")]),_._v(" "),i("li",[_._v("需要后台定位时，尽量设置pausesLocationUpdatesAutomatically为YES，如果用户不太可能移动的时候系统会自动暂停位置更新")]),_._v(" "),i("li",[_._v("尽量不要使用startMonitoringSignificantLocationChanges，优先考虑startMonitoringForRegion:")])])]),_._v(" "),i("li",[i("p",[_._v("硬件检测优化\n用户移动、摇晃、倾斜设备时，会产生动作(motion)事件，这些事件由加速度计、陀螺仪、磁力计等硬件检测。在不需要检测的场合，应该及时关闭这些硬件")])])])])}),[],!1,null,null,null);i.default=a.exports}}]);