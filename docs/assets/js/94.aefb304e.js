(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{396:function(_,t,a){"use strict";a.r(t);var s=a(6),e=Object(s.a)({},(function(){var _=this,t=_._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"音频重采样"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#音频重采样"}},[_._v("#")]),_._v(" 音频重采样")]),_._v(" "),t("p",[t("strong",[_._v("音频重采样（Audio Resample）")]),_._v("：将音频A转换成音频B，并且音频A、B的参数（采样率、采样格式、声道数）并不完全相同。")]),_._v(" "),t("p",[t("strong",[_._v("重采样的意义")]),_._v("：有些音频编码器对输入的原始PCM数据是有特定参数要求的，比如要求必须是44100_s16le_2。但是你提供的PCM参数可能是48000_f32le_1。这个时候就需要先将48000_f32le_1转换成44100_s16le_2，然后再使用音频编码器对转换后的PCM进行编码。")]),_._v(" "),t("h2",{attrs:{id:"重采样命令行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重采样命令行"}},[_._v("#")]),_._v(" 重采样命令行")]),_._v(" "),t("p",[_._v("通过下面的命令行可以将44100_s16le_2转换成48000_f32le_1。")]),_._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[_._v("ffmpeg -ar 44100 -ac 2 -f s16le -i 44100_s16le_2.pcm -ar 48000 -ac 1 -f f32le 48000_f32le_1.pcm\n")])])]),t("h2",{attrs:{id:"编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编程"}},[_._v("#")]),_._v(" 编程")]),_._v(" "),t("p",[_._v("音频重采样需要用到2个库：")]),_._v(" "),t("ul",[t("li",[_._v("swresample")]),_._v(" "),t("li",[_._v("avutil")])]),_._v(" "),t("p",[_._v("函数的实现：")]),_._v(" "),t("ul",[t("li",[_._v("变量定义")]),_._v(" "),t("li",[_._v("创建重采样上下文")]),_._v(" "),t("li",[_._v("初始化重采样上下文")]),_._v(" "),t("li",[_._v("创建缓冲区")]),_._v(" "),t("li",[_._v("读取文件数据")]),_._v(" "),t("li",[_._v("刷新输出缓冲区")]),_._v(" "),t("li",[_._v("回收释放资源")])])])}),[],!1,null,null,null);t.default=e.exports}}]);