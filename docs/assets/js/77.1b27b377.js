(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{381:function(r,a,e){"use strict";e.r(a);var i=e(6),t=Object(i.a)({},(function(){var r=this,a=r._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[a("h2",{attrs:{id:"多架构合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多架构合并"}},[r._v("#")]),r._v(" 多架构合并")]),r._v(" "),a("h3",{attrs:{id:"_1、build生成模拟器包xcarchive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、build生成模拟器包xcarchive"}},[r._v("#")]),r._v(" 1、build生成模拟器包xcarchive")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("xcodebuild archive -project 'SYTimer.xcodeproj' \\\n-scheme 'SYTimer' \\\n-configuration Release \\\n-destination 'generic/platform=iOS Simulator' \\\n-archivePath '../archives/SYTimer.framework-iphonesimulator.xcarchive' \\\nSKIP_INSTALL=NO\n")])])]),a("p",[r._v("file命令查看可执行文件架构")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("file ../archives/SYTimer.framework-iphoneos.xcarchive/Products/Library/Frameworks/SYTimer.framework/SYTimer\n\n//  Mach-O 64-bit dynamically linked shared library arm64\n")])])]),a("h3",{attrs:{id:"_2、打包生成ios包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、打包生成ios包"}},[r._v("#")]),r._v(" 2、打包生成iOS包")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("xcodebuild archive -project 'SYTimer.xcodeproj' \\\n-scheme 'SYTimer' \\\n-configuration Release \\\n-destination 'generic/platform=iOS' \\\n-archivePath '../archives/SYTimer.framework-iphoneos.xcarchive' \\\nSKIP_INSTALL=NO\n")])])]),a("p",[r._v("file命令查看可执行文件架构")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("file ../archives/SYTimer.framework-iphonesimulator.xcarchive/Products/Library/Frameworks/SYTimer.framework/SYTimer\n\n// Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit dynamically linked shared library x86_64] [arm64:Mach-O 64-bit dynamically linked shared library arm64]\n")])])]),a("h3",{attrs:{id:"_3、从模拟器包中分离出x86-64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、从模拟器包中分离出x86-64"}},[r._v("#")]),r._v(" 3、从模拟器包中分离出x86-64")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("lipo -output SYTimer-x86_64 -extract x86_64 ../archives/SYTimer.framework-iphonesimulator.xcarchive/Products/Library/Frameworks/SYTimer.framework/SYTimer\n")])])]),a("h3",{attrs:{id:"_4、合并sytimer-x86-64-和-ios包-arm64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、合并sytimer-x86-64-和-ios包-arm64"}},[r._v("#")]),r._v(" 4、合并SYTimer-x86_64 和 iOS包（arm64）")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("lipo -output SYTimer -create ../archives/SYTimer.framework-iphoneos.xcarchive/Products/Library/Frameworks/SYTimer.framework/SYTimer  SYTimer-x86_64\n")])])]),a("h2",{attrs:{id:"合并xcframework"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并xcframework"}},[r._v("#")]),r._v(" 合并xcframework")]),r._v(" "),a("p",[r._v("Xcframework是一个可以更方便表示一个多平台和架构的分发二进制库文件")]),r._v(" "),a("p",[r._v("首先生成模拟器包，iOS包，步骤同上1、2")]),r._v(" "),a("p",[r._v("然后执行命令")]),r._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[r._v("xcodebuild -create-xcframework \\\n-framework '../archives/SYTimer.framework-iphoneos.xcarchive/Products/Library/Frameworks/SYTimer.framework' \\\n-framework '../archives/SYTimer.framework-iphonesimulator.xcarchive/Products/Library/Frameworks/SYTimer.framework' \\\n-output 'SYTimer.xcframework'\n")])])])])}),[],!1,null,null,null);a.default=t.exports}}]);