<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iOS基础布局方式 | LuckyXYJ</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/x-icon" href="/logo.svg">
    <meta name="description" content="iOS开发者个人成长笔记">
    
    <link rel="preload" href="/assets/css/0.styles.60aa9f3b.css" as="style"><link rel="preload" href="/assets/js/app.e5a3ed44.js" as="script"><link rel="preload" href="/assets/js/2.7f06bbfc.js" as="script"><link rel="preload" href="/assets/js/70.043b28be.js" as="script"><link rel="prefetch" href="/assets/js/10.bb0908ce.js"><link rel="prefetch" href="/assets/js/11.d106927b.js"><link rel="prefetch" href="/assets/js/12.03f93774.js"><link rel="prefetch" href="/assets/js/13.00dec248.js"><link rel="prefetch" href="/assets/js/14.ac15e06c.js"><link rel="prefetch" href="/assets/js/15.86b07182.js"><link rel="prefetch" href="/assets/js/16.b0d7519d.js"><link rel="prefetch" href="/assets/js/17.99488e07.js"><link rel="prefetch" href="/assets/js/18.a9af3fbd.js"><link rel="prefetch" href="/assets/js/19.4c3cebc7.js"><link rel="prefetch" href="/assets/js/20.e5fdeedb.js"><link rel="prefetch" href="/assets/js/21.42fa749e.js"><link rel="prefetch" href="/assets/js/22.d6084bb2.js"><link rel="prefetch" href="/assets/js/23.5404b3e8.js"><link rel="prefetch" href="/assets/js/24.9f86cc6f.js"><link rel="prefetch" href="/assets/js/25.e35ae6b0.js"><link rel="prefetch" href="/assets/js/26.5e0e8f67.js"><link rel="prefetch" href="/assets/js/27.88da5620.js"><link rel="prefetch" href="/assets/js/28.f706ff0e.js"><link rel="prefetch" href="/assets/js/29.58a063b9.js"><link rel="prefetch" href="/assets/js/3.da9d3d46.js"><link rel="prefetch" href="/assets/js/30.b04a83f9.js"><link rel="prefetch" href="/assets/js/31.c68a8a46.js"><link rel="prefetch" href="/assets/js/32.9bfe5ffc.js"><link rel="prefetch" href="/assets/js/33.cbc63847.js"><link rel="prefetch" href="/assets/js/34.f6f7304a.js"><link rel="prefetch" href="/assets/js/35.dc948800.js"><link rel="prefetch" href="/assets/js/36.7557fb60.js"><link rel="prefetch" href="/assets/js/37.0e996941.js"><link rel="prefetch" href="/assets/js/38.f7b82ac2.js"><link rel="prefetch" href="/assets/js/39.3ef8dcf0.js"><link rel="prefetch" href="/assets/js/4.90a7f436.js"><link rel="prefetch" href="/assets/js/40.a1113376.js"><link rel="prefetch" href="/assets/js/41.a42ed2da.js"><link rel="prefetch" href="/assets/js/42.2d406556.js"><link rel="prefetch" href="/assets/js/43.cc841c44.js"><link rel="prefetch" href="/assets/js/44.8a0aa281.js"><link rel="prefetch" href="/assets/js/45.fadad66d.js"><link rel="prefetch" href="/assets/js/46.4a4716aa.js"><link rel="prefetch" href="/assets/js/47.0e86ec86.js"><link rel="prefetch" href="/assets/js/48.00cfdea2.js"><link rel="prefetch" href="/assets/js/49.82ebbb58.js"><link rel="prefetch" href="/assets/js/5.47a0b4d0.js"><link rel="prefetch" href="/assets/js/50.422f4bf2.js"><link rel="prefetch" href="/assets/js/51.a657d30f.js"><link rel="prefetch" href="/assets/js/52.1636173c.js"><link rel="prefetch" href="/assets/js/53.9e89e914.js"><link rel="prefetch" href="/assets/js/54.bc468eef.js"><link rel="prefetch" href="/assets/js/55.87f30041.js"><link rel="prefetch" href="/assets/js/56.bc5a9417.js"><link rel="prefetch" href="/assets/js/57.f2043101.js"><link rel="prefetch" href="/assets/js/58.2fb2e90c.js"><link rel="prefetch" href="/assets/js/59.4f1975fd.js"><link rel="prefetch" href="/assets/js/6.e635e8c5.js"><link rel="prefetch" href="/assets/js/60.f8cf4ba9.js"><link rel="prefetch" href="/assets/js/61.83a503d3.js"><link rel="prefetch" href="/assets/js/62.ced0ee6a.js"><link rel="prefetch" href="/assets/js/63.c2fc9cd4.js"><link rel="prefetch" href="/assets/js/64.149397d3.js"><link rel="prefetch" href="/assets/js/65.23e7b578.js"><link rel="prefetch" href="/assets/js/66.8e9e02ac.js"><link rel="prefetch" href="/assets/js/67.4951a3ce.js"><link rel="prefetch" href="/assets/js/68.d0f65d08.js"><link rel="prefetch" href="/assets/js/69.1afc846f.js"><link rel="prefetch" href="/assets/js/7.a0bd7014.js"><link rel="prefetch" href="/assets/js/71.92a3b066.js"><link rel="prefetch" href="/assets/js/72.3593055d.js"><link rel="prefetch" href="/assets/js/73.61a01fd7.js"><link rel="prefetch" href="/assets/js/74.885ca1df.js"><link rel="prefetch" href="/assets/js/75.8f908220.js"><link rel="prefetch" href="/assets/js/76.8354ae8e.js"><link rel="prefetch" href="/assets/js/77.000ae687.js"><link rel="prefetch" href="/assets/js/78.0e8ce3e7.js"><link rel="prefetch" href="/assets/js/79.bc6f6c98.js"><link rel="prefetch" href="/assets/js/8.7fcc940a.js"><link rel="prefetch" href="/assets/js/80.cd002702.js"><link rel="prefetch" href="/assets/js/81.8cfa8464.js"><link rel="prefetch" href="/assets/js/82.282b4193.js"><link rel="prefetch" href="/assets/js/83.31e6fbd0.js"><link rel="prefetch" href="/assets/js/84.998f234b.js"><link rel="prefetch" href="/assets/js/85.022ef610.js"><link rel="prefetch" href="/assets/js/86.9b3c11ae.js"><link rel="prefetch" href="/assets/js/87.626a6115.js"><link rel="prefetch" href="/assets/js/88.2f9ed87d.js"><link rel="prefetch" href="/assets/js/89.2520e1cb.js"><link rel="prefetch" href="/assets/js/9.9cee7032.js"><link rel="prefetch" href="/assets/js/90.55608f10.js"><link rel="prefetch" href="/assets/js/91.df95ba5c.js"><link rel="prefetch" href="/assets/js/92.c4380b3a.js"><link rel="prefetch" href="/assets/js/93.b9e130e8.js"><link rel="prefetch" href="/assets/js/94.7be88992.js"><link rel="prefetch" href="/assets/js/95.0ac521b5.js"><link rel="prefetch" href="/assets/js/96.a4126c38.js"><link rel="prefetch" href="/assets/js/97.c4e15081.js"><link rel="prefetch" href="/assets/js/98.96f4ef25.js"><link rel="prefetch" href="/assets/js/99.896fae7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.60aa9f3b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LuckyXYJ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/?category=posts.html" class="nav-link">博客</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题" class="dropdown-title"><!----> <span class="title" style="display:;">专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topic/Objective-C/" class="nav-link">Objective-C</a></li><li class="dropdown-item"><!----> <a href="/topic/Swift/" class="nav-link">Swift</a></li><li class="dropdown-item"><!----> <a href="/topic/网络协议/" class="nav-link">网络协议</a></li><li class="dropdown-item"><!----> <a href="/topic/音视频/" class="nav-link">音视频</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS图形视觉/" class="nav-link">OS图形视觉</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS优化/" class="nav-link">OS优化</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS基础与编译链接/" class="nav-link">OS基础与编译链接</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/LuckyXYJ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://xingyajie.tech/atom.xml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rss
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/?category=posts.html" class="nav-link">博客</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题" class="dropdown-title"><!----> <span class="title" style="display:;">专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topic/Objective-C/" class="nav-link">Objective-C</a></li><li class="dropdown-item"><!----> <a href="/topic/Swift/" class="nav-link">Swift</a></li><li class="dropdown-item"><!----> <a href="/topic/网络协议/" class="nav-link">网络协议</a></li><li class="dropdown-item"><!----> <a href="/topic/音视频/" class="nav-link">音视频</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS图形视觉/" class="nav-link">OS图形视觉</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS优化/" class="nav-link">OS优化</a></li><li class="dropdown-item"><!----> <a href="/topic/iOS基础与编译链接/" class="nav-link">OS基础与编译链接</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/LuckyXYJ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://xingyajie.tech/atom.xml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rss
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/" aria-current="page" class="sidebar-link">OS基础与编译链接</a></li><li><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/" aria-current="page" class="active sidebar-link">iOS基础布局方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/#布局方式" class="sidebar-link">布局方式</a></li><li class="sidebar-sub-header level2"><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/#autolayout" class="sidebar-link">AutoLayout</a></li><li class="sidebar-sub-header level2"><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/#autoresizingmask" class="sidebar-link">AutoresizingMask</a></li><li class="sidebar-sub-header level2"><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/#nslayoutanchor" class="sidebar-link">NSLayoutAnchor</a></li></ul></li><li><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/Untitled/" class="sidebar-link">Xcode多环境配置</a></li><li><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/Untitled/" class="sidebar-link">iOS中符号</a></li><li><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/Ma/" class="sidebar-link">Mach-O文件</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=topic" title="分类" data-v-06225672>topic</a></li><li data-v-06225672><a href="/categories/?category=iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5" title="分类" data-v-06225672>iOS基础与编译链接</a></li><li data-v-06225672><a href="/categories/?category=iOS%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F" title="分类" data-v-06225672>iOS基础布局方式</a></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">iOS基础布局方式<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="布局方式"><a href="#布局方式" class="header-anchor">#</a> 布局方式</h2> <p>frame，AutoLayout，Autoresizing，NSLayoutAnchor，自动布局SnapKit/Masonry</p> <h2 id="autolayout"><a href="#autolayout" class="header-anchor">#</a> AutoLayout</h2> <h3 id="nslayoutconstraint使用"><a href="#nslayoutconstraint使用" class="header-anchor">#</a> NSLayoutConstraint使用</h3> <p>使用很久的Masonry，但是对其原理不是很了解，大概看了一下，是基于NSLayoutConstraint的一个框架。今天就先看下NSLayoutConstraint的使用</p> <h4 id="nslayoutconstraint的使用方式"><a href="#nslayoutconstraint的使用方式" class="header-anchor">#</a> NSLayoutConstraint的使用方式</h4> <div class="language- extra-class"><pre class="language-text"><code>+ (NSArray&lt;NSLayoutConstraint *&gt; *)constraintsWithVisualFormat:(NSString *)format options:(NSLayoutFormatOptions)opts metrics:(nullable NSDictionary&lt;NSString *, id&gt; *)metrics views:(NSDictionary&lt;NSString *, id&gt; *)views API_AVAILABLE(macos(10.7), ios(6.0), tvos(9.0));

+ (instancetype)constraintWithItem:(id)view1 attribute:(NSLayoutAttribute)attr1 relatedBy:(NSLayoutRelation)relation toItem:(nullable id)view2 attribute:(NSLayoutAttribute)attr2 multiplier:(CGFloat)multiplier constant:(CGFloat)c API_AVAILABLE(macos(10.7), ios(6.0), tvos(9.0));
</code></pre></div><h5 id="一、constraintwithitem方式"><a href="#一、constraintwithitem方式" class="header-anchor">#</a> 一、constraintWithItem方式</h5> <p>直接上代码</p> <div class="language- extra-class"><pre class="language-text"><code>
UIView *superView = [[UIView alloc]initWithFrame:CGRectMake(30, 200, SCREEN_WIDTH - 60, 300)];
    superView.backgroundColor = [UIColor lightGrayColor];
    [self.view addSubview:superView];
  
    UIView *subView = [[UIView alloc]init];
    subView.backgroundColor = [UIColor yellowColor];
    subView.frame = CGRectMake(0, 0, 100, 100);
  
    /**
     添加约束之前，需要将视图添加到父视图上；
     */
    [self.view addSubview:subView];
  
    /**
     当使用autolayout布局是时，需要将视图的translatesAutoresizingMaskIntoConstraints属性设置为NO，不设置的话约束白加
     */
    subView.translatesAutoresizingMaskIntoConstraints = NO;
  
    /**
        七个参数
        1、要约束的视图view1
        2、约束类型attr1，宽，高，中心，上，下，左右
        3、约束方式，等于，小于等于。。。
        4、约束参照视图view2
        5、参照视图的参照属性attr2，上下左右。。。
        6、乘数multiplier，倍数
        7、约束值constant。
   
     约束结果：view1.attr1 等于(约束方式) view2.attr2*multiplier +constant
     */
  
    NSLayoutConstraint *constraint = [NSLayoutConstraint constraintWithItem:subView attribute:(NSLayoutAttributeTop) relatedBy:(NSLayoutRelationEqual) toItem:superView attribute:(NSLayoutAttributeBottom) multiplier:1 constant:30];
    NSLayoutConstraint *constraint1 = [NSLayoutConstraint constraintWithItem:subView attribute:(NSLayoutAttributeLeft) relatedBy:(NSLayoutRelationEqual) toItem:superView attribute:(NSLayoutAttributeLeft) multiplier:1 constant:30];
    NSLayoutConstraint *constraint2 = [NSLayoutConstraint constraintWithItem:subView attribute:(NSLayoutAttributeWidth) relatedBy:(NSLayoutRelationEqual) toItem:nil attribute:NSLayoutAttributeWidth multiplier:1 constant:50];
    NSLayoutConstraint *constraint3 = [NSLayoutConstraint constraintWithItem:subView attribute:(NSLayoutAttributeHeight) relatedBy:(NSLayoutRelationEqual) toItem:nil attribute:NSLayoutAttributeNotAnAttribute multiplier:1 constant:50];
  
    /**
     约束添加到哪个视图
     1、自身约束。不需要依赖其他视图，如宽高数值，view2 = null，attr2 = NSLayoutAttributeNotAnAttribute。约束添加到view1上
     2、相对父视图约束。约束添加到层级相对更高的视图上。
     3、相对兄弟视图约束。约束添加到兄弟视图共同的父视图上 （别说面试造航母了， 这不就是是两个链表的第一个公共节点面试题应用场景）
        View+MASAdditions 类中的mas_closestCommonSuperview方法便是找父视图
     */
  
    [self.view addConstraint:constraint];
    [self.view addConstraint:constraint1];
    [subView addConstraint:constraint2];
    [subView addConstraint:constraint3];
  
</code></pre></div><p>这种方式的关键点</p> <h6 id="_1、设置translatesautoresizingmaskintoconstraints-为no"><a href="#_1、设置translatesautoresizingmaskintoconstraints-为no" class="header-anchor">#</a> 1、设置translatesAutoresizingMaskIntoConstraints 为NO</h6> <p>关闭该属性，否则写布局代码等于写个空气</p> <h6 id="_2、nslayoutconstraint的创建"><a href="#_2、nslayoutconstraint的创建" class="header-anchor">#</a> 2、NSLayoutConstraint的创建</h6> <p>创建需要七个参数</p> <ol><li>指定要约束的视图view1</li> <li>约束类型attr1，宽、高、左、右、上、下...</li> <li>约束方式，等于、小于等于...</li> <li>约束参照视图view2.如果设置具体宽高数据，可以传空</li> <li>参照视图的参照属性attr2, view2为空时传NSLayoutAttributeNotAnAttribute，传其他的也一样</li> <li>乘数multiplier，倍数</li> <li>约束值constant。</li></ol> <p>约束结果：view1.attr1 等于(约束方式) view2.attr2*multiplier +constant</p> <h5 id="_3、比较重要的是约束添加到哪个视图"><a href="#_3、比较重要的是约束添加到哪个视图" class="header-anchor">#</a> 3、比较重要的是约束添加到哪个视图</h5> <ol><li>自身约束。不需要依赖其他视图，如宽高数值，view2 = null，attr2 = NSLayoutAttributeNotAnAttribute。约束添加到view1上</li> <li>相对父视图约束。约束添加到层级相对更高的视图上。</li> <li>相对兄弟视图约束。约束添加到兄弟视图共同的父视图上</li></ol> <ul><li>别说面试造航母了， 这不就是是两个链表的第一个公共节点面试题应用场景</li> <li>Masonry中View+MASAdditions 类中的mas_closestCommonSuperview方法便是找父视图,但是实现方式有点low，不过影响不大，依然是很优秀的框架</li></ul> <h5 id="相关参数说明"><a href="#相关参数说明" class="header-anchor">#</a> 相关参数说明</h5> <div class="language- extra-class"><pre class="language-text"><code>NSLayoutAttribute类型
     NSLayoutAttributeLeft 视图的左边
     NSLayoutAttributeRight 视图的右边
     NSLayoutAttributeTop 视图的上边
     NSLayoutAttributeBottom 视图的下边
     NSLayoutAttributeLeading 视图的前边
     NSLayoutAttributeTrailing 视图的后边
     NSLayoutAttributeWidth 视图的宽度
     NSLayoutAttributeHeight 视图的高度
     NSLayoutAttributeCenterX 视图的中点的X值
     NSLayoutAttributeCenterY 视图中点的Y值
     NSLayoutAttributeBaseline 视图的基准线
     NSLayoutAttributeNotAnAttribute 无属性

     3.NSLayoutRelation的类型：
   
     NSLayoutRelationLessThanOrEqual 视图关系小于或等于
     NSLayoutRelationEqual      视图关系等于
     NSLayoutRelationGreaterThanOrEqual      视图关系大于或等于
</code></pre></div><h4 id="二、constraintswithvisualformat方式"><a href="#二、constraintswithvisualformat方式" class="header-anchor">#</a> 二、constraintsWithVisualFormat方式</h4> <p>还是先上代码</p> <div class="language- extra-class"><pre class="language-text"><code>UIView *view1 = [[UIView alloc]init];
    view1.backgroundColor = [UIColor yellowColor];
    view1.translatesAutoresizingMaskIntoConstraints = NO;
    [superView addSubview:view1];
  
    UIView *view2 = [[UIView alloc]init];
    view2.backgroundColor = [UIColor yellowColor];
    view2.translatesAutoresizingMaskIntoConstraints = NO;
    [superView addSubview:view2];
  
    UIView *view3 = [[UIView alloc]init];
    view3.backgroundColor = [UIColor yellowColor];
    view3.translatesAutoresizingMaskIntoConstraints = NO;
    [superView addSubview:view3];
  
    NSString *hVFL = @&quot;H:|-space-[view1(==100)]-space1-[view2]-space-|&quot;;
    NSString *hVFL1 = @&quot;H:|-space-[view3]-space-|&quot;;
    NSString *vVFL = @&quot;V:|-space-[view1(==view3)]-space-[view3]-space-|&quot;;
    NSString *vVFL1 = @&quot;V:|-space-[view2(==view3)]-space-[view3]-space-|&quot;;
  
    NSDictionary *metircs = @{@&quot;space&quot;:@20,@&quot;space1&quot;:@30};
    NSDictionary *views = NSDictionaryOfVariableBindings(view1,view2,view3);
  
    NSArray *hconstraint = [NSLayoutConstraint constraintsWithVisualFormat:hVFL options:NSLayoutFormatDirectionLeadingToTrailing metrics:metircs views:views];
    NSArray *hconstraint1 = [NSLayoutConstraint constraintsWithVisualFormat:hVFL1 options:NSLayoutFormatDirectionLeadingToTrailing metrics:metircs views:views];
    NSArray *vconstraint = [NSLayoutConstraint constraintsWithVisualFormat:vVFL options:NSLayoutFormatDirectionLeadingToTrailing metrics:metircs views:views];
    NSArray *vconstraint1 = [NSLayoutConstraint constraintsWithVisualFormat:vVFL1 options:NSLayoutFormatDirectionLeadingToTrailing metrics:metircs views:views];
  
    //添加约束
    [superView addConstraints:hconstraint];
    [superView addConstraints:hconstraint1];
    [superView addConstraints:vconstraint];
    [superView addConstraints:vconstraint1];
</code></pre></div><p>这种方式要说的有</p> <h5 id="_1、设置translatesautoresizingmaskintoconstraints-为no-2"><a href="#_1、设置translatesautoresizingmaskintoconstraints-为no-2" class="header-anchor">#</a> 1、设置translatesAutoresizingMaskIntoConstraints 为NO</h5> <p>关闭该属性，否则写布局代码等于写个空气</p> <h5 id="_2、constraints的创建"><a href="#_2、constraints的创建" class="header-anchor">#</a> 2、Constraints的创建</h5> <ol><li>使用VFL格式化的字符串</li> <li>指定VFL中所有对象的布局属性和方向</li> <li>度量或者指标的字典，字典里面有相关的键值对来控制相关的度量指标，通过key获取；</li> <li>指定约束的视图：一个或多个。</li></ol> <h5 id="_3、vfl语言的规则"><a href="#_3、vfl语言的规则" class="header-anchor">#</a> 3、VFL语言的规则</h5> <ul><li>&quot;H&quot; 表示水平方向，&quot;V&quot;表示垂直方向；</li> <li>&quot;|&quot; 表示superview的边界；</li> <li>&quot;[]&quot; 表示view，&quot;()&quot;表示尺寸，它们可以多个条件组合，中间使用逗号分隔，举例：[view(&gt;=70, &lt;=100)];</li> <li>&quot;-&quot; 表示间隙；</li> <li>&quot;@&quot;表示优先级。举例：V:|-50@750-[view(55)]</li></ul> <h5 id="最后上效果图"><a href="#最后上效果图" class="header-anchor">#</a> 最后上效果图</h5> <p>​<img src="http://xingyajie.oss-cn-hangzhou.aliyuncs.com/uPic/1240-20230216141907643.png" alt="效果">​</p> <h2 id="autoresizingmask"><a href="#autoresizingmask" class="header-anchor">#</a> AutoresizingMask</h2> <p>autoresizingMask是UIView的属性，该属性的作用是调整子视图的上、下、左、右边距及宽高，以保证子视图相对与父视图的位置。autoresizingMask的值对应一个枚举，默认值是UIViewAutoresizingNone；</p> <div class="language- extra-class"><pre class="language-text"><code>typedef NS_OPTIONS(NSUInteger, UIViewAutoresizing) {
  UIViewAutoresizingNone                = 0,
  UIViewAutoresizingFlexibleLeftMargin  = 1 &lt;&lt; 0,
  UIViewAutoresizingFlexibleWidth        = 1 &lt;&lt; 1,
  UIViewAutoresizingFlexibleRightMargin  = 1 &lt;&lt; 2,
  UIViewAutoresizingFlexibleTopMargin    = 1 &lt;&lt; 3,
  UIViewAutoresizingFlexibleHeight      = 1 &lt;&lt; 4,
  UIViewAutoresizingFlexibleBottomMargin = 1 &lt;&lt; 5
};
</code></pre></div><ul><li>UIViewAutoresizingNone：表示不随父视图的改变而改变</li> <li>UIViewAutoresizingFlexibleLeftMargin：表示随着父视图的改变自动调整view与父视图的左边距，保证view与父视图的右边距不变；</li> <li>UIViewAutoresizingFlexibleWidth：表示随着父视图的改变自动调整view的宽度，保证view与父视图左右边距不变；</li> <li>UIViewAutoresizingFlexibleRightMargin：表示随着父视图的改变自动调整view与父视图的右边距，保证view与父视图的左边距不变；</li> <li>UIViewAutoresizingFlexibleTopMargin：表示随着父视图的改变自动调整view与父视图的上边距，保证下边距不变；</li> <li>UIViewAutoresizingFlexibleHeight：表示随着父视图的改变自动调整view的高度，保证view与父视图的上下边距不变；</li> <li>UIViewAutoresizingFlexibleBottomMargin：表示随着父视图的改变自动调整view与父视图的下边距，保证上边距不变；</li></ul> <p>实际开发中，我们可以根据需要组合使用上述几种枚举值，各个值用‘|’隔开，如下：</p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token keyword">self</span><span class="token punctuation">.</span>overView<span class="token punctuation">.</span>autoresizingMask<span class="token operator">=</span>UIViewAutoresizingFlexibleWidth <span class="token operator">|</span> UIViewAutoresizingFlexibleHeight<span class="token punctuation">;</span>
</code></pre></div><p>这句代码的意思是，自动调整self.overView的宽高保证self.overView与父视图的左右边距和上下边距不变；</p> <h3 id="translatesautoresizingmaskintoconstraints与autoresizingmask关系"><a href="#translatesautoresizingmaskintoconstraints与autoresizingmask关系" class="header-anchor">#</a> translatesAutoresizingMaskIntoConstraints与AutoresizingMask关系</h3> <p>默认情况下，translatesAutoresizingMaskIntoConstraints ＝ true , 此时视图的AutoresizingMask会被转换成对应效果的约束。这样很可能就会和我们手动添加的其它约束有冲突。此属性设置成false时，AutoresizingMask就不会变成约束。也就是说 当前 视图的 AutoresizingMask失效了。</p> <p>当我们用代码添加视图时,视图的translatesAutoresizingMaskIntoConstraints属性默认为true，可是AutoresizingMask属性默认会被设置成.None。也就是说如果我们不去动AutoresizingMask，那么AutoresizingMask就不会对约束产生影响。</p> <p>当我们使用interface builder添加视图时，AutoresizingMask虽然会被设置成非.None，但是translatesAutoresizingMaskIntoConstraints默认被设置成了false。所以也不会有冲突。</p> <p>反而有的视图是靠AutoresizingMask布局的，当我们修改了translatesAutoresizingMaskIntoConstraints后会让视图失去约束，走投无路。例如我自定义转场时就遇到了这样的问题，转场后的视图并不在视图的正中间。</p> <h2 id="nslayoutanchor"><a href="#nslayoutanchor" class="header-anchor">#</a> NSLayoutAnchor</h2> <p>iOS 9 推出的自动布局类，通过设置view的不同锚来实现自动布局约束，内部可以理解成也是NSLayoutConstraint实现。NSLayoutAnchor相对NSLayoutConstraint，代码更加整洁,优雅,易读。</p></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/Ma/"><div>
            Mach-O文件
            <!----></div></a> <span class="date">03-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/Untitled/"><div>
            Xcode多环境配置
            <!----></div></a> <span class="date">03-21</span></dt></dl><dl><dd>03</dd> <dt><a href="/topic/iOS%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5/" class="router-link-active"><div>
            iOS基础与编译链接
            <!----></div></a> <span class="date">03-21</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2015-2023
    <span>LuckyXYJ | <a href="http://beian.miit.gov.cn/">豫ICP备2021029639号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e5a3ed44.js" defer></script><script src="/assets/js/2.7f06bbfc.js" defer></script><script src="/assets/js/70.043b28be.js" defer></script>
  </body>
</html>
